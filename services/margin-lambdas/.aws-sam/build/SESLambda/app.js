module.exports=(()=>{"use strict";var e={5606:function(e,o,r){var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0}),o.lambdaHandler=void 0;const s=new(t(r(3480)).default.CognitoIdentityServiceProvider)({region:"us-east-1",apiVersion:"2016-04-18"});o.lambdaHandler=async(e,o,r)=>{console.log("Reject non-registered email accounts");const t=e.Records[0].ses.mail.source;console.log(t);const n={UserPoolId:process.env.COGNITO_USER_POOL_ID,Username:t};try{const e=await s.adminGetUser(n).promise();e&&"CONFIRMED"===e.UserStatus?r(null,null):console.log("Non-confirmed user attempted to send email")}catch(e){"UserNotFoundException"===e.code?console.log("Non-user attempted to send email"):(console.log("Other error"),console.error(e))}r(null,{disposition:"STOP_RULE_SET"})}},3480:e=>{e.exports=require("aws-sdk")}},o={};return function r(t){if(o[t])return o[t].exports;var s=o[t]={exports:{}};return e[t].call(s.exports,s,s.exports,r),s.exports}(5606)})();
//# sourceMappingURL=app.js.map